# Visualization Gallery and Interpretation Guide

## Day-of-Week Analysis Experiment V2

This document provides a detailed guide to interpreting all visualizations generated by the experiment.

---

## Table of Contents

1. [Overview of Generated Visualizations](#1-overview-of-generated-visualizations)
2. [Accuracy by Day Bar Charts](#2-accuracy-by-day-bar-charts)
3. [Weekday vs Weekend Comparison](#3-weekday-vs-weekend-comparison)
4. [Metrics Heatmap](#4-metrics-heatmap)
5. [Performance Trend Line Plot](#5-performance-trend-line-plot)
6. [Sample Distribution](#6-sample-distribution)
7. [Combined Comparison](#7-combined-comparison)
8. [Combined Publication Figure](#8-combined-publication-figure)
9. [LaTeX Tables](#9-latex-tables)
10. [CSV Summary](#10-csv-summary)

---

## 1. Overview of Generated Visualizations

### Complete File List

| File | Format | Description |
|------|--------|-------------|
| `diy_accuracy_by_day` | PDF, PNG, SVG | DIY: Accuracy metrics by day |
| `geolife_accuracy_by_day` | PDF, PNG, SVG | GeoLife: Accuracy metrics by day |
| `diy_weekday_weekend_comparison` | PDF, PNG, SVG | DIY: Weekday vs Weekend |
| `geolife_weekday_weekend_comparison` | PDF, PNG, SVG | GeoLife: Weekday vs Weekend |
| `diy_metrics_heatmap` | PDF, PNG | DIY: All metrics heatmap |
| `geolife_metrics_heatmap` | PDF, PNG | GeoLife: All metrics heatmap |
| `diy_performance_trend` | PDF, PNG, SVG | DIY: Trend across days |
| `geolife_performance_trend` | PDF, PNG, SVG | GeoLife: Trend across days |
| `diy_sample_distribution` | PDF, PNG | DIY: Sample counts by day |
| `geolife_sample_distribution` | PDF, PNG | GeoLife: Sample counts by day |
| `combined_comparison` | PDF, PNG, SVG | Side-by-side Acc@1 |
| `combined_figure` | PDF, PNG, SVG | 9-panel publication figure |
| `diy_table.tex` | LaTeX | DIY results table |
| `geolife_table.tex` | LaTeX | GeoLife results table |
| `days_analysis_summary.csv` | CSV | Complete tabular data |

### Visual Style

All figures follow **classic scientific publication standards** (Nature Journal style):

- **Background**: White
- **Axes**: Black box (all 4 sides visible)
- **Ticks**: Inside direction, on all sides
- **Grid**: None (clean appearance)
- **Font**: Serif (Times New Roman or similar)
- **Colors**: 
  - Green for weekdays
  - Orange for weekends
  - Blue for DIY dataset
  - Red for GeoLife dataset
- **Markers**: Open style (white fill, colored edge)

---

## 2. Accuracy by Day Bar Charts

### Files
- `diy_accuracy_by_day.{pdf,png,svg}`
- `geolife_accuracy_by_day.{pdf,png,svg}`

### Visual Description

Three-panel horizontal arrangement showing:
- **Left panel**: Accuracy@1 (%)
- **Middle panel**: Accuracy@5 (%)
- **Right panel**: Accuracy@10 (%)

Each panel contains:
- 7 bars (one per day: Mon-Sun)
- Weekday bars: Green with backslash hatching (\\)
- Weekend bars: Orange with forward slash hatching (//)
- Value labels above each bar

### Axis Definitions

| Axis | Description | Range |
|------|-------------|-------|
| X-axis | Day of week | Mon, Tue, Wed, Thu, Fri, Sat, Sun |
| Y-axis | Accuracy percentage | Auto-scaled (~50-95%) |

### How to Read

1. **Compare bar heights** to see which days perform better
2. **Look at the transition** from Friday to Saturday for weekend effect
3. **Compare the three panels** to see if patterns are consistent across metrics
4. **Note the y-axis range** - it's auto-scaled to show differences clearly

### DIY Dataset Interpretation

Looking at the DIY accuracy_by_day plot:

**Accuracy@1 Panel:**
- Tuesday shows the highest bar (61.5%)
- Saturday shows the lowest bar (54.9%)
- Weekend bars (Sat, Sun) are only slightly shorter than weekdays
- Range is relatively narrow (~6.5 percentage points)

**Accuracy@5 Panel:**
- Tuesday again leads (85.8%)
- Thursday shows lowest (80.5%)
- Weekend performs comparably to weekdays

**Accuracy@10 Panel:**
- Tuesday leads (88.4%)
- Pattern similar to other panels

**Key Insight (DIY):** The weekend effect is minimal. Bars are relatively uniform across all days, suggesting user behavior is consistent throughout the week.

### GeoLife Dataset Interpretation

Looking at the GeoLife accuracy_by_day plot:

**Accuracy@1 Panel:**
- Wednesday shows highest bar (59.9%)
- **Saturday shows dramatically lower bar (37.6%)**
- Sunday also notably lower (42.1%)
- Clear visual "valley" for weekend days

**Accuracy@5 Panel:**
- Monday leads (89.8%)
- Saturday drops to 67.4%
- Weekend degradation is clearly visible

**Accuracy@10 Panel:**
- Similar pattern with weekend depression

**Key Insight (GeoLife):** Strong weekend effect. The visual difference between weekday and weekend bars is immediately apparent. Saturday represents the most difficult prediction day.

---

## 3. Weekday vs Weekend Comparison

### Files
- `diy_weekday_weekend_comparison.{pdf,png,svg}`
- `geolife_weekday_weekend_comparison.{pdf,png,svg}`

### Visual Description

Single-panel grouped bar chart:
- 6 metric groups on x-axis
- Each group has 2 bars (weekday and weekend)
- Delta (Δ) values annotated above each group
- Statistical significance note in bottom-right

### Axis Definitions

| Axis | Description | Range |
|------|-------------|-------|
| X-axis | Metric name | ACC@1, ACC@5, ACC@10, MRR, NDCG, F1 |
| Y-axis | Score percentage | 0-100% (depends on data) |

### Visual Elements

- **Green bars (left in each pair)**: Weekday average (weighted)
- **Orange bars (right in each pair)**: Weekend average (weighted)
- **Δ annotation**: Difference (weekday - weekend)
- **p-value annotation**: Statistical significance from t-test

### How to Read

1. **Compare paired bars** to see weekday vs weekend difference
2. **Check Δ values** for exact difference magnitude
3. **Look at p-value** to assess statistical significance:
   - `**` means p < 0.01 (highly significant)
   - `*` means p < 0.05 (significant)
   - No asterisk means not significant

### DIY Dataset Interpretation

From the DIY weekday_weekend_comparison plot:

| Metric | Weekday | Weekend | Δ | Interpretation |
|--------|---------|---------|---|----------------|
| ACC@1 | 57.2% | 55.1% | +2.1 | Small positive difference |
| ACC@5 | 82.6% | 81.2% | +1.4 | Minimal difference |
| ACC@10 | 85.5% | 84.4% | +1.1 | Negligible difference |
| MRR | 68.2% | 66.5% | +1.7 | Small difference |
| NDCG | 72.4% | 70.8% | +1.6 | Small difference |
| F1 | 53.0% | 50.7% | +2.3 | Small difference |

**p-value: 0.2436** (not significant)

**Interpretation:** All deltas are positive (weekday > weekend), but the differences are small (1.1-2.3%) and NOT statistically significant. We cannot conclude that there is a real weekday-weekend difference in the DIY dataset.

### GeoLife Dataset Interpretation

From the GeoLife weekday_weekend_comparison plot:

| Metric | Weekday | Weekend | Δ | Interpretation |
|--------|---------|---------|---|----------------|
| ACC@1 | 55.3% | 39.7% | **+15.6** | Large difference |
| ACC@5 | 85.0% | 69.5% | **+15.5** | Large difference |
| ACC@10 | 88.3% | 75.1% | **+13.2** | Large difference |
| MRR | 68.4% | 52.8% | **+15.6** | Large difference |
| NDCG | 73.2% | 58.0% | **+15.2** | Large difference |
| F1 | 51.3% | 35.8% | **+15.5** | Large difference |

**p-value: 0.0015** (**highly significant**)

**Interpretation:** All deltas are large (13-16%) and HIGHLY statistically significant (p < 0.01). There is a real and substantial weekday-weekend performance gap in the GeoLife dataset.

---

## 4. Metrics Heatmap

### Files
- `diy_metrics_heatmap.{pdf,png}`
- `geolife_metrics_heatmap.{pdf,png}`

### Visual Description

Rectangular heatmap grid:
- Rows: Days of the week (Monday-Sunday)
- Columns: Metrics (ACC@1, ACC@5, ACC@10, MRR, NDCG, F1)
- Cell color: Grayscale gradient (darker = higher value)
- Cell annotation: Numeric value
- Red border: Highlights weekend rows (Sat, Sun)

### Axis Definitions

| Axis | Description |
|------|-------------|
| Y-axis (rows) | Days of week (Monday at top, Sunday at bottom) |
| X-axis (columns) | Metric names |

### Color Scale

- **Darker gray/black**: Higher metric values (better performance)
- **Lighter gray/white**: Lower metric values (worse performance)

### How to Read

1. **Scan rows** to see which days have darker cells (better overall)
2. **Scan columns** to see if certain metrics show more variation
3. **Compare weekend rows** (with red border) to weekday rows
4. **Look for patterns** - do the same days always perform well/poorly?

### DIY Dataset Interpretation

From the DIY metrics_heatmap:

**Row Analysis:**
- Tuesday row is slightly darker (higher values across all metrics)
- Weekend rows (Sat, Sun) are marginally lighter but not dramatically
- Overall relatively uniform shading

**Notable Values:**
- Best cell: Tuesday ACC@10 (88.4%)
- Worst cell: Thursday ACC@1 (55.1%)
- Weekend cells are similar to weekday cells

**Interpretation:** The DIY heatmap shows minimal row variation. The weekend effect (if any) is not visually apparent. Users in this dataset maintain similar behavior patterns regardless of day.

### GeoLife Dataset Interpretation

From the GeoLife metrics_heatmap:

**Row Analysis:**
- Wednesday row is notably darker (best performance)
- **Weekend rows are visibly lighter** (especially Saturday)
- Clear contrast between top 5 rows and bottom 2 rows

**Notable Values:**
- Best cell: Monday ACC@10 (91.8%)
- Worst cell: **Saturday ACC@1 (37.6%)**
- Saturday row is consistently the lightest

**Interpretation:** The GeoLife heatmap clearly shows the weekend effect. The visual contrast between weekday and weekend rows is immediately apparent. Saturday stands out as the worst-performing day across all metrics.

---

## 5. Performance Trend Line Plot

### Files
- `diy_performance_trend.{pdf,png,svg}`
- `geolife_performance_trend.{pdf,png,svg}`

### Visual Description

Multi-line time series plot:
- X-axis: Days of week (Mon-Sun)
- Y-axis: Score percentage
- 4 lines representing different metrics
- Shaded region highlighting weekend days

### Line Definitions

| Line | Color | Marker | Metric |
|------|-------|--------|--------|
| 1 | Black | Circle (○) | ACC@1 |
| 2 | Blue | Square (□) | ACC@5 |
| 3 | Red | Triangle (△) | ACC@10 |
| 4 | Green | Diamond (◇) | MRR |

### Visual Elements

- **Open markers**: White fill with colored edge
- **Solid lines**: Connect markers
- **Light red shading**: Weekend region (Sat-Sun area)
- **Legend**: In corner identifying each line

### How to Read

1. **Follow each line** from left to right to see the weekly pattern
2. **Look for dips** in the shaded weekend region
3. **Check if all lines move together** (they should - indicates consistent effect)
4. **Note the vertical gaps** between lines (shows relative metric performance)

### DIY Dataset Interpretation

From the DIY performance_trend:

**Pattern:**
- Lines are relatively flat across all days
- Small peak on Tuesday
- Slight dip on Thursday
- **Minimal change entering weekend region**

**Metrics Ranking (consistent across days):**
1. ACC@10 (~84-88%) - top line
2. ACC@5 (~80-86%) - second line
3. MRR (~66-72%) - third line
4. ACC@1 (~55-62%) - bottom line

**Interpretation:** The lines are nearly horizontal, indicating stable performance throughout the week. The weekend shading highlights Saturday-Sunday, but the lines don't show significant dips in this region.

### GeoLife Dataset Interpretation

From the GeoLife performance_trend:

**Pattern:**
- Lines show more variation
- Wednesday shows a peak
- **Clear downward trend entering weekend**
- Saturday is the lowest point
- Partial recovery on Sunday

**Metrics Movement:**
- All four lines dip together on Saturday
- ACC@1 shows the most dramatic drop
- The coordinated movement confirms the effect is real

**Interpretation:** The performance trend clearly shows the weekend effect. All metrics decline when entering the shaded weekend region. Saturday represents the "valley" of predictability in the weekly cycle.

---

## 6. Sample Distribution

### Files
- `diy_sample_distribution.{pdf,png}`
- `geolife_sample_distribution.{pdf,png}`

### Visual Description

Simple bar chart:
- One bar per day of week
- Height indicates number of test samples
- Color coding for weekday/weekend
- Total count annotation

### Axis Definitions

| Axis | Description | Range |
|------|-------------|-------|
| X-axis | Day of week | Mon-Sun |
| Y-axis | Number of samples | 0 to max+padding |

### Why This Matters

Sample distribution is important for:
1. **Validating statistical power**: More samples = more reliable metrics
2. **Identifying bias**: Underrepresented days may show more variance
3. **Understanding data collection**: Reveals patterns in how data was gathered

### DIY Dataset Interpretation

From the DIY sample_distribution:

| Day | Samples | % of Total |
|-----|---------|------------|
| Monday | 2,020 | 16.3% |
| Tuesday | 1,227 | 9.9% |
| Wednesday | 1,660 | 13.4% |
| Thursday | 1,721 | 13.9% |
| Friday | 1,950 | 15.8% |
| Saturday | 1,938 | 15.7% |
| Sunday | 1,852 | 15.0% |
| **Total** | **12,368** | **100%** |

**Observations:**
- Monday has the most samples
- Tuesday has the fewest samples (but still 1,227 - adequate)
- Weekend is well-represented (30.7% of total)
- No major imbalance concerns

### GeoLife Dataset Interpretation

From the GeoLife sample_distribution:

| Day | Samples | % of Total |
|-----|---------|------------|
| Monday | 538 | 15.4% |
| Tuesday | 528 | 15.1% |
| Wednesday | 516 | 14.7% |
| Thursday | 537 | 15.3% |
| Friday | 514 | 14.7% |
| Saturday | 463 | 13.2% |
| Sunday | 406 | 11.6% |
| **Total** | **3,502** | **100%** |

**Observations:**
- Weekdays are relatively balanced (~510-540 each)
- Weekend is slightly underrepresented (24.8% vs 30.7% in DIY)
- Sunday has fewest samples (406)
- Smaller overall dataset than DIY

**Note:** The lower weekend performance in GeoLife is NOT due to fewer samples. Even with fewer weekend samples, the effect is highly significant.

---

## 7. Combined Comparison

### Files
- `combined_comparison.{pdf,png,svg}`

### Visual Description

Two-panel side-by-side comparison:
- **Left panel**: DIY Acc@1 by day
- **Right panel**: GeoLife Acc@1 by day
- Same scale for easy comparison
- Horizontal lines showing averages
- Delta box showing performance drop

### Visual Elements

| Element | Description |
|---------|-------------|
| Bar colors | Green (weekday), Orange (weekend) |
| Green dashed line | Weekday average |
| Orange dotted line | Weekend average |
| Δ box | Weekday - Weekend difference |

### How to Read

1. **Compare the two panels** to see dataset differences
2. **Look at the Δ values** to quantify the weekend effect
3. **Compare how the weekend bars relate to the average lines**
4. **Note the y-axis scale** if it differs between panels

### Interpretation

**Side-by-side Comparison:**

| Aspect | DIY | GeoLife |
|--------|-----|---------|
| Δ (weekend drop) | 2.15% | 15.56% |
| Weekday average | 57.24% | 55.26% |
| Weekend average | 55.09% | 39.70% |
| Visual contrast | Minimal | Dramatic |

**Key Insight:** The side-by-side view immediately shows the contrast between datasets. DIY shows bars of similar height, while GeoLife shows a clear "step down" for weekend days.

---

## 8. Combined Publication Figure

### Files
- `combined_figure.{pdf,png,svg}`

### Visual Description

Nine-panel comprehensive figure arranged in 3×3 grid:

```
┌───────────────────────────────────────────────────────┐
│ (a) DIY Acc@1 │ (b) GeoLife Acc@1│ (c) Comparison    │
├───────────────┼──────────────────┼───────────────────┤
│ (d) DIY       │ (e) GeoLife      │ (f) Weekend Drop  │
│     Metrics   │     Metrics      │     (Both)        │
├───────────────┼──────────────────┼───────────────────┤
│ (g) DIY       │ (h) GeoLife      │ (i) Statistical   │
│     Samples   │     Samples      │     Summary       │
└───────────────┴──────────────────┴───────────────────┘
```

### Panel Descriptions

**(a) DIY Acc@1**: Bar chart of Accuracy@1 for each day (DIY dataset)
- Shows relatively uniform bars
- Tuesday highest, Saturday lowest

**(b) GeoLife Acc@1**: Bar chart of Accuracy@1 for each day (GeoLife dataset)
- Shows dramatic weekend drop
- Wednesday highest, Saturday lowest

**(c) Acc@1 Comparison**: Overlay line plot with both datasets
- Blue line/circles: DIY
- Red line/squares: GeoLife
- Light red shading for weekend region
- Shows how both datasets track differently

**(d) DIY Metrics**: Grouped bar chart (weekday vs weekend) for DIY
- All six metrics compared
- Small consistent differences

**(e) GeoLife Metrics**: Grouped bar chart (weekday vs weekend) for GeoLife
- All six metrics compared
- Large consistent differences

**(f) Weekend Drop**: Comparison of performance drop magnitude
- Shows how much each metric drops on weekends
- Blue bars: DIY dataset
- Red bars: GeoLife dataset
- Horizontal line at y=0 for reference

**(g) DIY Samples**: Sample distribution for DIY
- Shows adequate and balanced samples

**(h) GeoLife Samples**: Sample distribution for GeoLife
- Shows smaller but still adequate samples

**(i) Statistical Summary**: Text panel with:
- Weekday and weekend means for each dataset
- Difference values
- p-values with significance markers

### Using This Figure

This combined figure is designed for:
1. **Publication**: Self-contained summary of all results
2. **Presentation**: Single slide covering entire experiment
3. **Comparison**: Easy side-by-side viewing of both datasets

---

## 9. LaTeX Tables

### Files
- `diy_table.tex`
- `geolife_table.tex`

### Content Structure

```latex
\begin{table}[htbp]
\centering
\caption{Performance Metrics by Day of Week - {Dataset} Dataset}
\label{tab:{dataset}_days}
\begin{tabular}{lcccccc}
\toprule
Day & Acc@1 & Acc@5 & Acc@10 & MRR & NDCG & F1 \\
\midrule
Monday & 57.28 & 82.43 & 85.20 & 68.12 & 72.23 & 0.53 \\
...
\rowcolor{gray!20}Saturday & ... \\  % Weekend highlighted
\rowcolor{gray!20}Sunday & ... \\
\midrule
\textbf{Weekday Avg} & ... \\
\textbf{Weekend Avg} & ... \\
\bottomrule
\end{tabular}
\end{table}
```

### Features

- **booktabs** package for professional table formatting
- **rowcolor** for weekend row highlighting
- **Bold** formatting for aggregate rows
- Ready for direct inclusion in LaTeX documents

### Usage

```latex
\documentclass{article}
\usepackage{booktabs}
\usepackage{colortbl}
\begin{document}
\input{diy_table.tex}
\end{document}
```

---

## 10. CSV Summary

### File
- `days_analysis_summary.csv`

### Structure

| Column | Type | Description |
|--------|------|-------------|
| Dataset | string | 'DIY' or 'GeoLife' |
| Day | string | Day name or summary label |
| Type | string | 'Weekday', 'Weekend', or 'Summary' |
| Samples | integer | Number of samples |
| Acc@1 | float | Top-1 accuracy (%) |
| Acc@5 | float | Top-5 accuracy (%) |
| Acc@10 | float | Top-10 accuracy (%) |
| MRR | float | Mean Reciprocal Rank (%) |
| NDCG | float | NDCG@10 (%) |
| F1 | float | F1 score (0-1) |
| Loss | float | Cross-entropy loss |

### Sample Rows

```csv
Dataset,Day,Type,Samples,Acc@1,Acc@5,Acc@10,MRR,NDCG,F1,Loss
DIY,Monday,Weekday,2020,57.2772,82.4257,85.1980,68.1211,72.2284,0.5301,2.4360
DIY,Tuesday,Weekday,1227,61.5322,85.8191,88.4271,71.8461,75.8701,0.5767,2.1372
...
GeoLife,Saturday,Weekend,463,37.5810,67.3866,73.4341,50.1160,55.4934,0.3514,3.9451
...
```

### Use Cases

1. **Further analysis**: Import into pandas, R, or Excel
2. **Custom visualization**: Create your own plots
3. **Statistical testing**: Apply additional tests
4. **Data integration**: Combine with other experiment results

### Loading Example

```python
import pandas as pd

df = pd.read_csv('figures/days_analysis_summary.csv')

# Filter to weekday vs weekend comparison
weekday = df[df['Type'] == 'Weekday']
weekend = df[df['Type'] == 'Weekend']

# Calculate average by dataset
print(df.groupby(['Dataset', 'Type'])['Acc@1'].mean())
```

---

## Quick Reference: Key Numbers

### DIY Dataset

| Metric | Best Day | Worst Day | Weekday Avg | Weekend Avg | Drop |
|--------|----------|-----------|-------------|-------------|------|
| Acc@1 | Tue (61.5%) | Sat (54.9%) | 57.24% | 55.09% | 2.15% |
| Acc@5 | Tue (85.8%) | Thu (80.5%) | 82.62% | 81.19% | 1.43% |
| MRR | Tue (71.8%) | Sat (66.1%) | 68.19% | 66.48% | 1.71% |

**Statistical Significance**: p = 0.244 (**NOT significant**)

### GeoLife Dataset

| Metric | Best Day | Worst Day | Weekday Avg | Weekend Avg | Drop |
|--------|----------|-----------|-------------|-------------|------|
| Acc@1 | Wed (59.9%) | **Sat (37.6%)** | 55.26% | 39.70% | **15.56%** |
| Acc@5 | Mon (89.8%) | **Sat (67.4%)** | 85.04% | 69.51% | **15.53%** |
| MRR | Wed (71.1%) | **Sat (50.1%)** | 68.42% | 52.80% | **15.62%** |

**Statistical Significance**: p = 0.0015 (**HIGHLY significant**)

---

*End of Visualization Gallery and Interpretation Guide*
